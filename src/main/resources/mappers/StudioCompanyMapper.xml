<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="kr.co.udf.company.dao.StudioDao"> 
	<select id="listStudio" resultType="kr.co.udf.common.company.domain.StudioCompany">
	<![CDATA[
	SELECT sc_no companyNo, 
	sc_nm nm, 
	sc_company_no regNo, 
	sc_main_nm headName, 
	sc_addr addr, 
	sc_main_image mainImage, 
	sc_email email, 
	sc_pw pw, 
	sc_tel tel, 
	sc_introduce introduce, 
	sessionkey, 
	regdate, 
	updatedate
	FROM studio_company
	]]> 
	</select>

		<select id="StudioPage" resultType="kr.co.udf.common.company.domain.StudioCompany">
	 <![CDATA[
SELECT *
FROM (SELECT CEIL (rownum / 10) page,
	sc_no companyNo, 
	sc_nm nm, 
	sc_company_no regNo, 
	sc_main_nm headName, 
	sc_addr addr, 
	sc_main_image mainImage, 
	sc_email email, 
	sc_pw pw, 
	sc_tel tel, 
	sc_introduce introduce, 
	sessionkey, 
	regdate, 
	updatedate
FROM (SELECT *
	FROM studio_company order by sc_no desc))
	WHERE page = #{page}
 	]]>
	</select>
	
		<select id="StudioCri" resultType="kr.co.udf.common.company.domain.StudioCompany">
	 <![CDATA[
	SELECT
  	*
	FROM
 	 (
 	SELECT rownum rn,
    sc_no companyNo, 
	sc_nm nm, 
	sc_company_no regNo, 
	sc_main_nm headName, 
	sc_addr addr, 
	sc_main_image mainImage, 
	sc_email email, 
	sc_pw pw, 
	sc_tel tel, 
	sc_introduce introduce, 
	sessionkey, 
	regdate, 
	updatedate
 	FROM studio_company
 	WHERE rownum <= #{page} * #{perPageNum}
 	 and sc_no > 0
 	  order by sc_no DESC
 	 )
	where rn > (#{page} -1) * #{perPageNum}
 	]]>
	</select>
	
	<select id="StudioCount" resultType="int">
	 <![CDATA[
	SELECT count(sc_no)
	FROM studio_company
	WHERE sc_no > 0
	]]>
	</select>
	
	
</mapper>